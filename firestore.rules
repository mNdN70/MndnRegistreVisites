/**
 * @file Overview
 * This ruleset enforces a basic security model that allows anyone to read the `visits` and `persons_to_visit` collections,
 * but restricts write access.
 *
 * Data Structure:
 * - /persons_to_visit/{personToVisitId}: Stores information about people who can be visited.
 * - /visits/{visitId}: Stores visit records.
 *
 * Key Security Decisions:
 * - Public read access is granted to both `visits` and `persons_to_visit` collections.
 * - Write access to both collections is denied to all.
 * - No data validation is performed during write operations due to the prototyping nature.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to the `persons_to_visit` collection, but denies all write access.
     * @path /persons_to_visit/{personToVisitId}
     * @allow (get, list): Any user can read persons_to_visit documents.
     * @deny (create, update, delete): No user can create, update, or delete persons_to_visit documents.
     * @principle Grants public read access and denies write access.
     */
    match /persons_to_visit/{personToVisitId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to the `visits` collection, but denies all write access.
     * @path /visits/{visitId}
     * @allow (get, list): Any user can read visit documents.
     * @deny (create, update, delete): No user can create, update, or delete visit documents.
     * @principle Grants public read access and denies write access.
     */
    match /visits/{visitId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }
  }
}